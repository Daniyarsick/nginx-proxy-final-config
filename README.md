# Развертывание Nginx Proxy & Let's Encrypt

**Выполнил: Аннануров Даниил Петрович, группа ИВТ 1.2**

---

Этот репозиторий содержит `docker-compose.yaml` для быстрого развертывания связки Nginx Proxy + Let's Encrypt для обслуживания нескольких контейнеризированных приложений с автоматическим получением SSL-сертификатов.

## Инструкции по развертыванию

### 1. Предварительные требования

- Сервер с доступом в интернет (например, Ubuntu).
- Установленный Docker и Docker Compose (v2).
- Доменное имя, DNS которого вы можете редактировать.

### 2. Настройка DNS

Вам необходимо в панели управления вашего доменного регистратора создать `A`-записи для всех доменов/поддоменов, которые будут указывать на IP-адрес вашего сервера.

**Пример для данного проекта:**
- `A`-запись для `whoami1.daniyrsick.ru` -> `5.129.195.214`.
- `A`-запись для `whoami2.daniyrsick.ru` -> `5.129.195.214`.

Let's Encrypt не сможет выпустить сертификат, если домены не будут указывать на ваш сервер.

### 3. Запуск

1.  Клонируйте репозиторий на ваш сервер.
    ```bash
    git clone https://github.com/Daniyarsick/nginx-proxy-final-config.git
    cd nginx-proxy-final-config
    ```

2.  Файл `docker-compose.yaml` уже настроен для доменов `whoami1.daniyrsick.ru` и `whoami2.daniyrsick.ru`. Если вы используете другие домены, откройте файл `docker-compose.yaml` и замените их.

3.  Запустите все сервисы в фоновом режиме:
    ```bash
    docker compose up -d
    ```
    *(Обратите внимание: `docker compose`, без дефиса)*

### 4. Возможные проблемы и решения

-   **SSL не работает (Not Secure):**
    1.  **Проблема:** Контейнер `letsencrypt` не может найти `nginx-proxy`.
        **Решение:** Убедитесь, что в сервисе `letsencrypt` есть переменная окружения `NGINX_PROXY_CONTAINER=nginx-proxy`.
    2.  **Проблема:** Ограничение на скачивание образов Docker Hub (`toomanyrequests`).
        **Решение:** Авторизуйтесь на сервере командой `docker login` с вашими учетными данными Docker Hub.

-   **Команда не найдена (`docker-compose: command not found`):**
    **Решение:** Используйте `docker compose` (без дефиса). Это новый синтаксис для Docker Compose v2. 