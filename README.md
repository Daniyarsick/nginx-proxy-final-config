# Nginx Proxy & Let's Encrypt Example

Этот репозиторий содержит `docker-compose.yaml` для быстрого развертывания связки Nginx Proxy + Let's Encrypt для обслуживания нескольких контейнеризированных приложений с автоматическим получением SSL-сертификатов.

## Инструкции по развертыванию

### 1. Предварительные требования

- Сервер с доступом в интернет (например, Ubuntu).
- Установленный Docker и Docker Compose (v2).
- Доменное имя, DNS которого вы можете редактировать.

### 2. Настройка DNS

Вам необходимо в панели управления вашего доменного регистратора создать `A`-записи для всех доменов/поддоменов, которые будут указывать на IP-адрес вашего сервера.

**Пример:**
- `A`-запись для `app1.your_domain.com` -> `IP_ВАШЕГО_СЕРВЕРА`.
- `A`-запись для `app2.your_domain.com` -> `IP_ВАШЕГО_СЕРВЕРА`.

Let's Encrypt не сможет выпустить сертификат, если домены не будут указывать на ваш сервер.

### 3. Запуск

1.  Создайте на сервере директорию и файл `docker-compose.yaml`. Скопируйте в него содержимое.

2.  Если вы используете свои домены, откройте файл `docker-compose.yaml` и замените домены и email на ваши.

3.  Запустите все сервисы в фоновом режиме:
    ```bash
    docker compose up -d
    ```
    *(Обратите внимание: `docker compose`, без дефиса)*

### 4. Возможные проблемы и решения

-   **SSL не работает (Not Secure):**
    1.  **Проблема:** Контейнер `letsencrypt` не может найти `nginx-proxy`.
        **Решение:** Убедитесь, что в сервисе `letsencrypt` есть переменная окружения `NGINX_PROXY_CONTAINER=nginx-proxy`.
    2.  **Проблема:** Ограничение на скачивание образов Docker Hub (`toomanyrequests`).
        **Решение:** Авторизуйтесь на сервере командой `docker login` с вашими учетными данными Docker Hub.

-   **Команда не найдена (`docker-compose: command not found`):**
    **Решение:** Используйте `docker compose` (без дефиса). Это новый синтаксис для Docker Compose v2. 